classdef ZeroMean < eegtoolkit.preprocessing.PreprocessingBase
    
    properties
        %meanSignal=1: Subtract the mean from the signal
        %meanSignal=2: Average rereferencing
        meanSignal;
        avgTime;
    end
    
    methods
        function ZM = ZeroMean()

        end
        
        function out = process(ZM,in)
            out = {};
            tic;
            for i=1:length(in)
                [numChannels,~] = size(in{i}.signal);
                for j=1:numChannels
                    in{i}.signal(j,:) = in{i}.signal(j,:) - mean(in{i}.signal(j,:));
                end
                out = in;
            end
            ZM.avgTime = toc/length(in);
        end
        
        function configInfo = getConfigInfo(ZM)
            configInfo = sprintf('Rereferencing:\tmeanSignal:%d',ZM.meanSignal);
        end
        
                        
        function time = getTime(ZM)
            time = ZM.avgTime;
        end
        
    end
    
end

